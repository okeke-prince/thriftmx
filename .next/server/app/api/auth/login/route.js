"use strict";(()=>{var e={};e.id=873,e.ids=[873],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},72254:e=>{e.exports=require("node:buffer")},6005:e=>{e.exports=require("node:crypto")},47261:e=>{e.exports=require("node:util")},64935:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>w,patchFetch:()=>f,requestAsyncStorage:()=>g,routeModule:()=>m,serverHooks:()=>h,staticGenerationAsyncStorage:()=>x});var n={};r.r(n),r.d(n,{POST:()=>l});var s=r(49303),a=r(88716),o=r(60670),i=r(16385),u=r(87070),p=r(42023),c=r.n(p),d=r(47165);async function l(e){try{let t=await e.json(),r=await i.db.buyerMaster.findUnique({where:{email:t.email}});if(!r)return u.NextResponse.json({message:"User not found."},{status:404});if(!await c().compare(t.password,r.password))return u.NextResponse.json({message:"Invalid credentials. Please try again."},{status:401});let n=await (0,d.XX)(r);return u.NextResponse.json({message:"Login Successfull",data:r,token:n})}catch(e){return u.NextResponse.json({message:"Something Went Wrong.",error:e.message},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"/Users/test/Downloads/nextjs-13.13-ChartSectionComponent/src/app/api/auth/login/route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:g,staticGenerationAsyncStorage:x,serverHooks:h}=m,w="/api/auth/login/route";function f(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:x})}},16385:(e,t,r)=>{r.d(t,{db:()=>n});let n=new(r(53524)).PrismaClient},47165:(e,t,r)=>{r.d(t,{PZ:()=>p,XX:()=>u,cn:()=>i,p6:()=>c});var n=r(55761),s=r(6091),a=r(6176),o=r(62386);function i(...e){return(0,o.m6)((0,n.Z)(e))}async function u(e){return await new s.N({...e}).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("2h").sign(new TextEncoder().encode(process.env.JWT_SECRET))}async function p(e){try{let{payload:t}=await (0,a._)(e,new TextEncoder().encode(process.env.JWT_SECRET));return t}catch(e){return!1}}function c(e){return new Date(e).toLocaleDateString("en-IN",{timeZone:"UTC"})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,810,23,972],()=>r(64935));module.exports=n})();