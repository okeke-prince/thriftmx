"use strict";(()=>{var e={};e.id=654,e.ids=[654],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},72254:e=>{e.exports=require("node:buffer")},6005:e=>{e.exports=require("node:crypto")},47261:e=>{e.exports=require("node:util")},56745:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>w,patchFetch:()=>f,requestAsyncStorage:()=>h,routeModule:()=>m,serverHooks:()=>x,staticGenerationAsyncStorage:()=>g});var a={};r.r(a),r.d(a,{POST:()=>l});var s=r(49303),n=r(88716),i=r(60670),o=r(16385),u=r(87070),p=r(42023),c=r.n(p),d=r(47165);async function l(e){try{let t=await e.json();if(await o.db.buyerMaster.findUnique({where:{email:t.email}}))return u.NextResponse.json({message:"User with this email already exists."},{status:409});let r=c().genSaltSync(5),a=await c().hash(t.password,r),s=await o.db.buyerMaster.create({data:{customerName:t.name,email:t.email,password:a}}),n=await (0,d.XX)(s);return u.NextResponse.json({message:"User created successfully.",data:s,token:n})}catch(e){return u.NextResponse.json({message:"Something Went Wrong.",error:e.message},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/auth/signup/route",pathname:"/api/auth/signup",filename:"route",bundlePath:"app/api/auth/signup/route"},resolvedPagePath:"/Users/test/Downloads/ThriftMax/src/app/api/auth/signup/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:h,staticGenerationAsyncStorage:g,serverHooks:x}=m,w="/api/auth/signup/route";function f(){return(0,i.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:g})}},16385:(e,t,r)=>{r.d(t,{db:()=>a});let a=new(r(53524)).PrismaClient},47165:(e,t,r)=>{r.d(t,{PZ:()=>p,XX:()=>u,cn:()=>o,p6:()=>c});var a=r(55761),s=r(6091),n=r(6176),i=r(62386);function o(...e){return(0,i.m6)((0,a.Z)(e))}async function u(e){return await new s.N({...e}).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("2h").sign(new TextEncoder().encode(process.env.JWT_SECRET))}async function p(e){try{let{payload:t}=await (0,n._)(e,new TextEncoder().encode(process.env.JWT_SECRET));return t}catch(e){return!1}}function c(e){return new Date(e).toLocaleDateString("en-IN",{timeZone:"UTC"})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,810,23,972],()=>r(56745));module.exports=a})();