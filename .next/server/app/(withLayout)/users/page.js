(()=>{var e={};e.id=406,e.ids=[406],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},67096:e=>{"use strict";e.exports=require("bcrypt")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},30937:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>l,originalPathname:()=>o,pages:()=>f,routeModule:()=>u,tree:()=>b}),s(98459),s(67156),s(35866),s(68295);var t=s(23191),r=s(88716),d=s(37922),n=s.n(d),c=s(95231),i={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>c[e]);s.d(a,i);let b=["",{children:["(withLayout)",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,98459)),"/Users/test/Downloads/ThriftMax/src/app/(withLayout)/users/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,67156)),"/Users/test/Downloads/ThriftMax/src/app/(withLayout)/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,68295)),"/Users/test/Downloads/ThriftMax/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],f=["/Users/test/Downloads/ThriftMax/src/app/(withLayout)/users/page.jsx"],o="/(withLayout)/users/page",l={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(withLayout)/users/page",pathname:"/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:b}})},32945:(e,a,s)=>{let t={"48740c68c523baa02d8c3745e63fefc590d50d2f":()=>Promise.resolve().then(s.bind(s,99162)).then(e=>e.$$ACTION_2),"4ebf07a5b74a9d5b0a4fdeb2d0cd453557d38fb9":()=>Promise.resolve().then(s.bind(s,99162)).then(e=>e.$$ACTION_0),"70c230b40fa3c80f42cf01e39db71811f566dbd9":()=>Promise.resolve().then(s.bind(s,99162)).then(e=>e.$$ACTION_1),"7798a19ee65b8f55d0ff464387ea373e03e6f2e8":()=>Promise.resolve().then(s.bind(s,99162)).then(e=>e.createUser),"924ec62a76b7b8f8acb54fc157a2251e2a3f0226":()=>Promise.resolve().then(s.bind(s,99162)).then(e=>e.getUsers),a7e2c81b43f9732bc708bc3e2f53c4bc3463c4b8:()=>Promise.resolve().then(s.bind(s,99162)).then(e=>e.updateUser),daf420bf1001b4e1aa398a0459cfd9284a27e381:()=>Promise.resolve().then(s.bind(s,99162)).then(e=>e.deleteUser),e78936e0e5abf8cb4b78a11bb5c3d1bab38172c5:()=>Promise.resolve().then(s.bind(s,99162)).then(e=>e.getUniqueUser),ff3d2c9fa9d2cf556ce1f1f2a4a89bb6205d6ac4:()=>Promise.resolve().then(s.bind(s,99162)).then(e=>e.$$ACTION_3),"4b8a8793f6cac0a684ebfbdb87642c6103bcb493":()=>Promise.resolve().then(s.bind(s,45907)).then(e=>e.deleteCookie),"50945b97a8168d74b4af0a7dca5d20277190247c":()=>Promise.resolve().then(s.bind(s,45907)).then(e=>e.logoutUser),a3af60c0481ba134354d340725ac936e2df2d176:()=>Promise.resolve().then(s.bind(s,45907)).then(e=>e.loginUser),b5eefc12adfbd69e5ae6619aad9ca1f7b5dae5af:()=>Promise.resolve().then(s.bind(s,45907)).then(e=>e.jwtTokenVerification),c741e8319e6ee182d899d82bd0eff88c7c3aa98f:()=>Promise.resolve().then(s.bind(s,45907)).then(e=>e.getUserData)};async function r(e,...a){return(await t[e]()).apply(null,a)}e.exports={"48740c68c523baa02d8c3745e63fefc590d50d2f":r.bind(null,"48740c68c523baa02d8c3745e63fefc590d50d2f"),"4ebf07a5b74a9d5b0a4fdeb2d0cd453557d38fb9":r.bind(null,"4ebf07a5b74a9d5b0a4fdeb2d0cd453557d38fb9"),"70c230b40fa3c80f42cf01e39db71811f566dbd9":r.bind(null,"70c230b40fa3c80f42cf01e39db71811f566dbd9"),"7798a19ee65b8f55d0ff464387ea373e03e6f2e8":r.bind(null,"7798a19ee65b8f55d0ff464387ea373e03e6f2e8"),"924ec62a76b7b8f8acb54fc157a2251e2a3f0226":r.bind(null,"924ec62a76b7b8f8acb54fc157a2251e2a3f0226"),a7e2c81b43f9732bc708bc3e2f53c4bc3463c4b8:r.bind(null,"a7e2c81b43f9732bc708bc3e2f53c4bc3463c4b8"),daf420bf1001b4e1aa398a0459cfd9284a27e381:r.bind(null,"daf420bf1001b4e1aa398a0459cfd9284a27e381"),e78936e0e5abf8cb4b78a11bb5c3d1bab38172c5:r.bind(null,"e78936e0e5abf8cb4b78a11bb5c3d1bab38172c5"),ff3d2c9fa9d2cf556ce1f1f2a4a89bb6205d6ac4:r.bind(null,"ff3d2c9fa9d2cf556ce1f1f2a4a89bb6205d6ac4"),"4b8a8793f6cac0a684ebfbdb87642c6103bcb493":r.bind(null,"4b8a8793f6cac0a684ebfbdb87642c6103bcb493"),"50945b97a8168d74b4af0a7dca5d20277190247c":r.bind(null,"50945b97a8168d74b4af0a7dca5d20277190247c"),a3af60c0481ba134354d340725ac936e2df2d176:r.bind(null,"a3af60c0481ba134354d340725ac936e2df2d176"),b5eefc12adfbd69e5ae6619aad9ca1f7b5dae5af:r.bind(null,"b5eefc12adfbd69e5ae6619aad9ca1f7b5dae5af"),c741e8319e6ee182d899d82bd0eff88c7c3aa98f:r.bind(null,"c741e8319e6ee182d899d82bd0eff88c7c3aa98f")}},53431:(e,a,s)=>{Promise.resolve().then(s.bind(s,2502))},43900:(e,a,s)=>{"use strict";s.d(a,{Nq:()=>n,Nx:()=>d,h8:()=>r}),s(15424);var t=s(46242),r=(0,t.$)("daf420bf1001b4e1aa398a0459cfd9284a27e381");(0,t.$)("7798a19ee65b8f55d0ff464387ea373e03e6f2e8"),(0,t.$)("924ec62a76b7b8f8acb54fc157a2251e2a3f0226");var d=(0,t.$)("e78936e0e5abf8cb4b78a11bb5c3d1bab38172c5"),n=(0,t.$)("a7e2c81b43f9732bc708bc3e2f53c4bc3463c4b8")},41530:(e,a,s)=>{"use strict";s.d(a,{Z:()=>n});var t=s(10326),r=s(82065),d=s(4344);let n=({setIsOpen:e,onCancel:a,handleConfirm:s})=>{let n=()=>{e(!1)};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto overflow-x-hidden flex items-center justify-center",children:[t.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:n}),t.jsx("div",{className:"relative p-4 w-full max-w-xl h-full md:h-auto",children:(0,t.jsxs)("div",{className:"relative text-center bg-white rounded-lg shadow-lg p-5",children:[t.jsx("button",{type:"button",className:"close-icon-button",onClick:n,children:t.jsx(r.Tw,{})}),t.jsx("div",{className:"flex items-center justify-center text-red-500",children:t.jsx(r.pJ,{className:"h-16 w-16"})}),t.jsx("p",{className:"my-6 font-semibold text-xl",children:"Are you sure you want to delete?"}),(0,t.jsxs)("div",{className:"flex justify-end items-center space-x-4",children:[t.jsx(d.z,{type:"button",className:"bg-transparent text-black borer border-gray-600",onClick:a,children:"Cancel"}),t.jsx(d.z,{type:"submit",onClick:s,children:"Confrim"})]})]})})]})}},2502:(e,a,s)=>{"use strict";s.d(a,{default:()=>f});var t=s(10326),r=s(82065),d=s(4344),n=s(90434),c=s(43900),i=s(41530),b=s(17577);function f({users:e}){let[a,s]=(0,b.useState)(!1),[f,o]=(0,b.useState)(),l=async()=>{await (0,c.h8)(f),s(!1),o(void 0)};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("h1",{className:"font-semibold text-3xl p-2",children:" User Management "}),t.jsx("button",{children:t.jsx(n.default,{href:"/users/add",className:"custom-primary-btn",children:"Add User"})})]}),t.jsx("hr",{className:"my-5"}),(0,t.jsxs)("div",{className:"mt-20",children:[(0,t.jsxs)("table",{className:"custom-table",children:[t.jsx("thead",{className:"border-y-2 border-gray-400",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{children:" Sr. No."}),t.jsx("th",{children:"User Name"}),t.jsx("th",{children:"Action"})]})}),t.jsx("tbody",{className:"text-gray-700 font-medium text-lg text-center",children:e.map((e,a)=>(0,t.jsxs)("tr",{children:[t.jsx("td",{children:a+1}),t.jsx("td",{children:e.userName}),(0,t.jsxs)("td",{className:"flex items-center gap-x-3",children:[t.jsx(n.default,{href:`/users/edit/${e.id}`,className:"w-fit",children:t.jsx(r.dY,{})}),t.jsx(d.z,{className:"bg-transparent p-0 px-2 border-none text-red-500",onClick:()=>{s(!0),o(e.id)},children:t.jsx(r.pJ,{})})]})]},e.id))})]}),a&&t.jsx(i.Z,{setIsOpen:s,onCancel:()=>s(!1),handleConfirm:l})]})]})}},99162:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$ACTION_0:()=>l,$$ACTION_1:()=>h,$$ACTION_2:()=>m,$$ACTION_3:()=>w,createUser:()=>o,deleteUser:()=>j,getUniqueUser:()=>p,getUsers:()=>u,updateUser:()=>x});var t=s(24330);s(60166);var r=s(16385),d=s(57708),n=s(58585),c=s(67096),i=s.n(c),b=s(45907),f=s(40618);let o=(0,t.j)("4ebf07a5b74a9d5b0a4fdeb2d0cd453557d38fb9",l);async function l(e){await (0,b.jwtTokenVerification)();let a={userName:e.get("userName"),userType:e.get("userType"),password:e.get("password"),confirmPassword:e.get("confirmPassword")};if(await r.db.adminUser.findUnique({where:{userName:a.userName}}))return(0,n.redirect)("/users/add?errorMessage=Username already exists.");let s=i().genSaltSync(5),t=await i().hash(e.get("password"),s);await r.db.adminUser.create({data:{userName:a.userName,userType:a.userType,password:t}}),(0,d.revalidatePath)("/users","page"),(0,n.redirect)("/users")}let u=(0,t.j)("70c230b40fa3c80f42cf01e39db71811f566dbd9",h);async function h(){return await (0,b.jwtTokenVerification)(),await r.db.adminUser.findMany()}let p=(0,t.j)("48740c68c523baa02d8c3745e63fefc590d50d2f",m);async function m(e){return await (0,b.jwtTokenVerification)(),await r.db.adminUser.findUnique({where:{id:e}})}let x=(0,t.j)("ff3d2c9fa9d2cf556ce1f1f2a4a89bb6205d6ac4",w);async function w(e,a){let s;await (0,b.jwtTokenVerification)();let t={userName:e.get("userName"),userType:e.get("userType"),password:e.get("password"),confirmPassword:e.get("confirmPassword")};if(t.password){let a=i().genSaltSync(5);s=await i().hash(e.get("password"),a)}await r.db.adminUser.update({where:{id:parseInt(a)},data:{userType:t.userType,userName:t.userName,...t.password&&{password:s}}}),(0,d.revalidatePath)("/users","page"),(0,n.redirect)("/users")}async function j(e){await (0,b.jwtTokenVerification)(),await r.db.adminUser.delete({where:{id:e}}),(0,d.revalidatePath)("/users","page")}(0,f.h)([o,u,p,x,j]),(0,t.j)("7798a19ee65b8f55d0ff464387ea373e03e6f2e8",o),(0,t.j)("924ec62a76b7b8f8acb54fc157a2251e2a3f0226",u),(0,t.j)("e78936e0e5abf8cb4b78a11bb5c3d1bab38172c5",p),(0,t.j)("a7e2c81b43f9732bc708bc3e2f53c4bc3463c4b8",x),(0,t.j)("daf420bf1001b4e1aa398a0459cfd9284a27e381",j)},98459:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>n});var t=s(19510);let r=(0,s(68570).createProxy)(String.raw`/Users/test/Downloads/ThriftMax/src/screens/users/index.jsx#default`);var d=s(99162);async function n(){let e=await (0,d.getUsers)();return t.jsx(t.Fragment,{children:t.jsx(r,{users:e})})}}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[948,810,23,177,285,8,708,747],()=>s(30937));module.exports=t})();